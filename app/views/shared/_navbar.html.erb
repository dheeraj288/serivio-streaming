<!-- shared/_navbar.html.erb -->
<header class="fixed top-0 left-0 right-0 bg-black bg-opacity-95 shadow-md z-50">
  <div class="max-w-7xl mx-auto px-6 flex justify-between items-center h-16">
    <%= link_to root_path, class: "text-3xl font-extrabold text-[#E50914] tracking-wide hover:text-red-600 transition" do %>
      Serivio
    <% end %>

    <nav class="hidden md:flex items-center space-x-6 text-white text-sm font-semibold">
      <% if user_signed_in? %>
        <span class="flex items-center space-x-2">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-red-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.121 17.804A9 9 0 1118.88 6.195M15 12h.01" />
          </svg>
          <span><%= current_user.name %></span>
        </span>
        <%= link_to "Logout", logout_path, data: { turbo_method: :delete }, class: "hover:text-[#E50914]" %>
      <% else %>
        <%= link_to "Login", login_path, class: "hover:text-[#E50914]" %>
        <%= link_to "Sign Up", signup_path, class: "hover:text-[#E50914]" %>
      <% end %>
    </nav>

    <!-- Mobile Menu Button -->
    <button id="mobile-menu-btn" class="md:hidden text-white focus:outline-none">
      <svg class="w-6 h-6 fill-current" viewBox="0 0 24 24">
        <path d="M4 6h16M4 12h16M4 18h16"/>
      </svg>
    </button>
  </div>

  <!-- Mobile Menu -->
  <nav id="mobile-menu" class="md:hidden bg-black bg-opacity-90 hidden px-6 py-4 space-y-2">
    <% if user_signed_in? %>
      <span class="block text-white font-semibold">ðŸ‘¤ <%= current_user.name %></span>
      <%= link_to "Logout", logout_path, method: :delete, class: "block text-white hover:text-[#E50914]" %>
    <% else %>
      <%= link_to "Login", login_path, class: "block text-white hover:text-[#E50914]" %>
      <%= link_to "Sign Up", signup_path, class: "block text-white hover:text-[#E50914]" %>
    <% end %>
  </nav>

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      document.getElementById('mobile-menu-btn').addEventListener('click', () => {
        const menu = document.getElementById('mobile-menu');
        menu.classList.toggle('hidden');
      });
    });
  </script>
</header>
